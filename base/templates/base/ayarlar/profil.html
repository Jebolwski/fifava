{% extends 'base/ana.html' %} {% load static %} {% block content %}
<title>{{profil.username}} | FIFAVOX</title>
<meta property="og:title" content="FIFAFOX | {{profil.username}}" />
<meta property="og:image" content="https://fifavox-s3-buckets-1.s3.amazonaws.com/images/meta_tags.png" />
<meta property="og:description" content="Fifavox'a katılın, dünyamızı keşfedin ve eğlenin." />

<meta name="twitter:card" content="summary_large_image" />
<meta property="twitter:title" content="FIFAFOX | {{profil.username}}" />
<meta property="twitter:image" content="https://fifavox-s3-buckets-1.s3.amazonaws.com/images/meta_tags.png" />
<meta property="twitter:description" content="Fifavox'a katılın, dünyamızı keşfedin ve eğlenin." />
<script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js" integrity="sha512-z4OUqw38qNLpn1libAN9BsoDx6nbNFio5lA6CuTp9NlK83b89hgyCVq+N5FdBJptINztxn1Z3SaKSKUS5UP60Q==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>

<style>
    body {
        overflow-y: auto;
    }
</style>
</head>

<body><!--<div class="cursor"><div class="cursor-pointer"></div></div>-->
    <aside class="side-navbar col-1" style="height: 100%;">
            <ul class="p-0 text-center list-unstyled list-unstyled" style="height: 100vh;">
                {% if request.user.is_authenticated %}
                <li>
                    <a href="{% url 'profil' request.user.username|slugify %}"><img src="{% static 'images/logo.png' %}" class="logo-side-navbar col-sm-7 col-md-4 col-9 "></a>
                </li>
                {% else %}
                <li><img src="{% static 'images/logo.png' %}" class="col-sm-7 col-md-4 col-9"></li>
                {% endif %}
                <li>
                    <a href="{% url 'anasayfa' %}">
                        {% if ev_bildirim and request.user.is_superuser %}
                        <svg width="22" height="22" viewBox="0 0 189 189" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M94.5 110.688H75.6C70.373 110.688 66.15 115.184 66.15 120.75V148.422C66.15
                             155.371 60.8639 161 54.3375 161H37.8295C37.3866 161 36.9436 160.969 36.5006 160.937C36.1463
                              160.969 35.7919 161 35.4375 161H30.7125C24.189 161 18.9 155.371 18.9 148.422V113.203C18.9
                               112.92 18.9089 112.606 18.9266 112.323V90.4367H9.46477C4.14028 90.4367 0 86.0029 0 
                               80.3428C0 77.5127 0.887119 74.9971 2.95608 72.7959L78.6712 2.52066C80.7384 0.315082
                                83.1009 0 85.1681 0C87.2353 0 89.5978 0.630164 91.3992 2.20557L154.183 60.9725C151.672
                                 60.5951 149.103 60.375 146.475 60.375C119.365 60.375 97.0987 82.4811 94.7067 
                                 110.688H94.5ZM103.95 115.719C103.95 90.7197 122.998 70.4375 146.475 70.4375C169.952
                                  70.4375 189 90.7197 189 115.719C189 140.718 169.952 161 146.475 161C122.998 161 
                                  103.95 140.718 103.95 115.719ZM146.475 145.906C150.403 145.906 153.562 142.542 153.562
                                   138.359C153.562 134.177 150.403 130.812 146.475 130.812C142.547 130.812 139.387 
                                   134.177 139.387 138.359C139.387 142.542 142.547 145.906 146.475 145.906ZM141.484
                                    90.5625V115.719C141.484 118.486 143.876 120.75 146.209 120.75C149.074 120.75 
                                    150.934 118.486 150.934 115.719V90.5625C150.934 87.7953 149.074 85.5312 146.209 
                                    85.5312C143.876 85.5312 141.484 87.7953 141.484 90.5625Z" fill="black"/>
                            <ellipse cx="145.5" cy="115.5" rx="43.5" ry="45.5" fill="#723535"/>
                        </svg>
                        {% else %}
                        <i class=" fa-solid fa-house-user"></i>
                        {% endif %}
                        <p class="d-none d-md-block">Anasayfa</p>
                    </a>
                </li>
                <li>
                    <a href="{% url 'kisiler' %}">
                        {% if oyuncu_bildirim %}
                        <svg class="col-6 col-md-4 col-lg-2" viewBox="0 0 189 189" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M70.5428 82.6875C70.5428 76.1463 65.2493 70.8602 58.7303 70.8602L53.1562 70.875C40.1108 70.875 29.5312
                         81.4546 29.5312 94.5295V112.171C29.5312 125.249 40.1256 135.844 53.1562 135.844H59.0625C65.5815 135.844 70.875
                          130.543 70.875 124.009L70.5428 82.6875ZM94.5 0C41.676 0 1.69177 43.9647 0.00767813 94.5L0 109.266C0 114.175 
                          3.96826 118.125 8.52715 118.125C13.086 118.125 17.7188 114.175 17.7188 109.266V94.5C17.7188 52.1596 52.1743 
                          17.7926 94.5 17.7926C136.84 17.7926 171.281 52.1596 171.281 94.5V147.656C171.281 155.811 164.67 162.422 156.516
                           162.422H115.652C112.588 157.143 106.94 153.562 100.406 153.562H89.2582C80.6905 153.562 72.8314 159.354 71.2183
                            167.771C69.0293 179.107 77.6672 189 88.2615 189H100.406C106.947 189 112.599 185.415 115.667 180.141H156.516C174.456
                             180.141 189 165.596 189 147.656V94.5C187.302 43.9647 147.324 0 94.5 0ZM135.844 135.844C148.889 135.844 159.469 125.249
                              159.469 112.171V94.5369C159.469 81.4693 148.874 70.875 135.844 70.875H129.938C123.418
                         70.875 118.125 76.1685 118.125 82.7023V123.994C118.125 130.565 123.404 135.844 129.938 135.844H135.844Z" fill="white"/>
                        <circle cx="151.5" cy="151.5" r="37.5" fill="#723535"/>
                        </svg>
                        {% else %}
                        <i class=" fa-solid fa-headset"></i>
                        {% endif %}
                        <p class="d-none d-md-block">Oyuncular</p>
                    </a>
                </li>
                <li>
                    <a href="{% url 'bilgiler' %}">
                        <i class="fa-solid fa-circle-question"></i>
                        <p class="d-none d-md-block">Bilgiler</p>
                    </a>
                </li>
                <li>
                    <a href="{% url 'forumlar' %}">
                        {% if forum_bildirim %}
                        <svg class="col-6 col-md-4 col-lg-2" viewBox="0 0 189 189" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M94.5 0.48027C42.3035 0.48027 0.332228 34.8546 0.332228 77.2615C0.332228 95.5783 8.21338 112.322 21.3622 125.508C16.7479 144.102 1.32891 160.676 1.14434 160.861C0.313771 161.691 0.0830582 162.977 0.590627 164.085C1.05168 165.192 2.07494 165.844 3.27465 165.844C27.7302 165.844 45.7627 154.12 55.1758 146.874C67.2209 151.396 80.6539 154.032 94.8215 154.032C147.018 154.032 188.989 119.654 188.989 77.5827C188.989 35.5117 146.696 0.48027 94.5 0.48027ZM46.9178 89.074C40.3655 89.074 35.1053 83.8138 35.1053 77.5937C35.1053 71.3737 40.3655 65.7812 46.9178 65.7812C53.47 65.7812 58.7303 71.0415 58.7303 77.5937C58.7303 84.146 53.7838 89.074 46.9178 89.074ZM94.5 89.074C87.9478 89.074 83.0197 83.8138 83.0197 77.5937C83.0197 71.3737 88.28 65.7812 94.5 65.7812C100.72 65.7812 105.98 71.0415 105.98 77.5937C105.98 84.146 101.071 89.074 94.5 89.074ZM141.418 89.074C134.866 89.074 129.605 83.8138 129.605 77.5937C129.605 71.3737 134.866 65.7812 141.418 65.7812C147.97 65.7812 153.23 71.0415 153.23 77.5937C153.23 84.146 148.284 89.074 141.418 89.074Z" fill="white"/>
                        <circle cx="151.5" cy="140.5" r="37.5" fill="#723535"/>
                        </svg>
                        {% else %}
                        <i class="fa-solid fa-comment-dots"></i>
                        {% endif %}
                        <p class="d-none d-md-block">Forumlar</p>
                    </a>
                </li>
                <li>
                    <a href="{% url 'haberler' %}">
                        {% if haber_bildirim %}
                        <svg class="col-6 col-md-4 col-lg-2" viewBox="0 0 189 178" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M177.188 0.8125H47.25C40.7162 0.8125 35.4375 6.10229 35.4375 12.625V136.656C35.4375 139.905 32.7945 142.562 29.5312 142.562C26.268 142.562 23.625 139.905 23.625 136.656V24.4375H11.8125C5.28979 24.4375 0 29.7162 0 36.25V142.562C0 155.612 10.5759 166.188 23.625 166.188H165.375C178.424 166.188 189 155.612 189 142.562V12.625C189 6.10229 183.721 0.8125 177.188 0.8125ZM100.406 142.562H64.9688C61.7203 142.562 59.0625 139.905 59.0625 136.656C59.0625 133.408 61.7203 130.75 64.9688 130.75H100.406C103.668 130.75 106.312 133.394 106.312 136.656C106.312 139.905 103.655 142.562 100.406 142.562ZM100.406 107.125H64.9688C61.7203 107.125 59.0625 104.467 59.0625 101.219C59.0625 97.9703 61.7203 95.3125 64.9688 95.3125H100.406C103.655 95.3125 106.312 97.9703 106.312 101.219C106.312 104.467 103.655 107.125 100.406 107.125ZM159.469 142.562H124.031C120.77 142.562 118.125 139.918 118.125 136.656C118.125 133.394 120.77 130.75 124.031 130.75H159.469C162.73 130.75 165.375 133.394 165.375 136.656C165.375 139.905 162.717 142.562 159.469 142.562ZM159.469 107.125H124.031C120.783 107.125 118.125 104.467 118.125 101.219C118.125 97.9703 120.783 95.3125 124.031 95.3125H159.469C162.717 95.3125 165.375 97.9703 165.375 101.219C165.375 104.467 162.717 107.125 159.469 107.125ZM165.375 65.7812C165.375 69.0297 162.717 71.6875 159.469 71.6875H64.9688C61.7203 71.6875 59.0625 69.0297 59.0625 65.7812V30.3438C59.0625 27.0953 61.7203 24.4375 64.9688 24.4375H159.469C162.717 24.4375 165.375 27.0953 165.375 30.3438V65.7812Z" fill="white"/>
                        <circle cx="151.5" cy="140.5" r="37.5" fill="#723535"/>
                        </svg>
                        {% else %}
                        <i class="fa-solid fa-newspaper"></i>
                        {% endif %}
                        <p class="d-none d-md-block">Haberler</p>
                    </a>
                </li>
                <li>
                    <a href="{% url 'formlar' %}">
                        {% if form_bildirim %}
                        <svg class="col-6 col-md-4 col-lg-2" viewBox="0 0 189 189" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M162 0C176.892 0 189 10.5519 189 23.5714V141.429C189 154.43 176.892 165 162 165H27C12.0867 165 0 154.43 0 141.429V23.5714C0 10.5519 12.0867 0 27 0H162ZM54 70.7143C46.5328 70.7143 40.5 75.981 40.5 82.5V117.857C40.5 124.376 46.5328 129.643 54 129.643C61.4672 129.643 67.5 124.376 67.5 117.857V82.5C67.5 75.981 61.4672 70.7143 54 70.7143ZM81 117.857C81 124.376 87.0328 129.643 94.5 129.643C101.967 129.643 108 124.376 108 117.857V47.1429C108 40.6239 101.967 35.3571 94.5 35.3571C87.0328 35.3571 81 40.6239 81 47.1429V117.857ZM135 94.2857C127.533 94.2857 121.5 99.5525 121.5 106.071V117.857C121.5 124.376 127.533 129.643 135 129.643C142.467 129.643 148.5 124.376 148.5 117.857V106.071C148.5 99.5525 142.467 94.2857 135 94.2857Z" fill="white"/>
                        <circle cx="151.5" cy="139.5" r="37.5" fill="#723535"/>
                        </svg>
                        {% else %}
                        <i class=" fa-solid fa-square-poll-vertical"></i>
                        {% endif %}
                        <p class="d-none d-md-block">Formlar</p>
                    </a>
                </li>
                {% if request.user.is_superuser %}
                
                <li>
                    <a href="{% url 'hareketler' %}">
                        <i class=" fa-solid fa-person-walking"></i>
                        <p class="d-none d-md-block">Loglar</p>
                    </a>
           </li>
           {% endif %}
           {% if user.is_superuser and user.is_authenticated %}
                <li>
                    <a href="{% url 'kayit-onay' %}">
                        <i class="fa-solid fa-circle-check"></i>
                        <p class="d-none d-md-block">Kayıt Onay</p>
                    </a>
                </li>{% endif %} {% if user.is_authenticated %}
                <li>
                    <a href="{% url 'ayarlar' %}">
                        <i class="fa-solid fa-gear"></i>
                        <p class="d-none d-md-block">Ayarlar</p>
                    </a>
                </li>
                {% endif %}
                <li>
                    {% if user.is_authenticated %}
                    <a href="{% url 'cikis-yap' %}">
                        <i class=" fa-solid fa-arrow-right-from-bracket"></i>
                        <p class="d-none d-md-block"> Çıkış Yap</p>
                    </a>
                    {% else %}
                    <a href="{% url 'giris-yap' %}">
                        <i class=" fa-solid fa-right-to-bracket"></i>
                        <p class="d-none d-md-block">Giriş Yap</p>
                    </a>
                    {% endif %}
                </li>
            </ul>
        </aside>

    <main class="col-11 col-lg-10 offset-1">
        {% for message in messages %}
        <div class="message col-8 col-md-4 col-lg-3 text-center" style="z-index: 100;">{{message}}</div>
        {% endfor %} {%if profil.arka_plan %}
        <div class="profil-background"><img class="col-12" onclick="arkaplan_foto_buyu()" style="min-height: 100px;cursor: pointer;" src="{{profil.arka_plan.url}}"></div>
        {% else %}
        <div class="profil-background"><img class="col-12" onclick="arkaplan_foto_buyu()" style="min-height: 100px;cursor: pointer;" src="{% static 'images/default-background.jpg' %}"></div>
        {% endif %}

        <div class="buyukler">
            <div class="profil-foto-buyuk" style="display: none;"> 
            {% if profil.resim %}
            <img src="{{profil.resim.url}}" class="col-8 col-lg-4 offset-6 offset-md-5 mt-5 pt-5" onclick="profil_foto_buyu()" title="profil-foto"> 
            {%else%}
            <img src="{% static 'images/default-profile.jpg' %}" class="col-8 col-lg-4 offset-5 mt-5 pt-5" title="profil-foto" onclick="profil_foto_buyu()" > 
            {% endif %}
            <div class="profil-foto-kapa-1" onclick="profil_foto_kapa()"><br/></div>
            <i class="fa-solid fa-xmark fa-2x profil-foto-kapa text-white" style="cursor: pointer;" onclick="profil_foto_kapa()"></i>
            </div>
            <div class="arkaplan-foto-buyuk" style="display: none;">
                {%if profil.arka_plan %}
                    <div class="profil-background"><img class="col-8 col-md-6 offset-6 offset-md-6" title="arkaplan-foto" onclick="arkaplan_foto_buyu()" src="{{profil.arka_plan.url}}"></div>
                {% else %}
                    <div class="profil-background"><img class="col-8 col-md-6 offset-6 offset-md-6" title="arkaplan-foto" onclick="arkaplan_foto_buyu()" src="{% static 'images/default-background.jpg' %}"></div>
                {% endif %}
                    <i class="fa-solid fa-xmark fa-2x arkaplan-foto-kapa text-white" style="cursor: pointer;" onclick="arkaplan_foto_kapa()"></i> 
                
                <div class="arkaplan-foto-kapa-1" onclick="arkaplan_foto_kapa()">
                <br>
            </div>
            </div>

            {% if request.user.is_authenticated %}
            <div class="takip-parent col-12 d-none">
                <div class="takip_eminmisin p-3 col-9 col-md-6 offset-1 offset-md-2">
                    <h5>@{{profil.user.username}} adlı kullanıcıyı takip etmeyi bırakmaktan emin misin ? </h5>
                    <br>
                    <button class="btn btn-dark center mt-5" onclick="takibi_birak()">Takibi Bırak</button>
                    <br>
                    <button class="btn btn-dark center mt-5" onclick="takip_kapa()">İptal Et</button>
                </div>
            </div>
            {% endif %}

            <div class="takipciler-1 col-12 d-none">
                <div class="takipciler-1-1 p-3 col-9 col-md-6 offset-1 offset-md-2">
                    <i class="fa-solid fa-xmark fa-xl mb-4"  onclick="gorenleri_kapa(event)" style="cursor: pointer;"></i>
                    <h5 class="my-2 ms-3">Takipçiler</h5>
                    {% for i in takipciler %}
                    <div class="{{i.username}}">
                        <hr>
                        <a href="{% url 'profil' i.username|slugify %}" target="_blank" class="text-black text-decoration-none"><h6 class="ms-3 ">{{i.username}}</h6></a>
                    </div>
                    {% endfor %}
                </div>
            </div>

            <div class="takip-edilenler-1 col-12 d-none">
                <div class="takip-edilenler-1-1 p-3 col-9 col-md-6 offset-1 offset-md-2">
                    <i class="fa-solid fa-xmark fa-xl mb-4"  onclick="gorenleri_kapa(event)" style="cursor: pointer;"></i>
                    <h5 class="my-2 ms-3">Takip Edilenler</h5>
                    {% if takip_edilenler.all.count > 0 %}
                    {% for i in takip_edilenler %}
                    <hr>
                    <a href="{% url 'profil' i.username|slugify %}" target="_blank" class="text-black text-decoration-none"><h6 class="ms-3 ">{{i.username}}</h6></a>
                    {% endfor %}
                    {% else %}
                    <hr>
                    <p class="ms-3 mt-2">Kullanıcı kimseyi takip etmiyor.</p>
                    {% endif %}
                </div>
            </div>


            <div class="takip-edemezsiniz col-12 d-none">
               <div class="takip-edemezsiniz-1 p-3 col-9 col-md-6 offset-1 offset-md-2" >
                <i class="fa-solid fa-xmark fa-xl mb-4"  onclick="gorenleri_kapa(event)" style="cursor: pointer;"></i>
                <h5 class="text-center"><b>Bu ve daha fazlasına erişmek için giriş yapmanız gerekmektedir.</b></h5>
                <br>
                <a href="{% url 'giris-yap' %}"><button class="center mt-5 btn btn-dark">Giriş Yap</button></a>
               </div> 
            </div>
            
        </div>


        <div class="profil-rest" style="height: 100vh;">
               
            {% if profil.resim %}
            <img src="{{profil.resim.url}}" class="profil-foto" style="cursor: pointer;z-index: 10;" onclick="profil_foto_buyu()" style="z-index: 1;"> {%else%}
            <img src="{% static 'images/default-profile.jpg' %}" style="cursor: pointer;z-index: 10;" class="profil-foto" onclick="profil_foto_buyu()" style="z-index: 1;"> {% endif %}
            <div class="biyografi">
                <div class="top">
                    <ul class="list-unstyled d-flex justify-content-start col-9 offset-3">
                        <li>
                            <p data-toggle="popover" class="col-md-12" title="
                            {% if durum.onaydurum == 'Kabul Et' %}
                                {% if request.user.username == durum.kisi.username %}
                                Onaylandın
                                {% else %}
                                Onaylandı
                                {% endif %}
                            {% elif durum.onaydurum == 'Bekle' %}
                                {% if request.user.username == durum.kisi.username %}
                                Beklemedesin
                                {% else %}
                                Beklemede
                                {% endif %}
                            {% elif durum.onaydurum == 'Reddet' %}
                                {% if request.user.username == durum.kisi.username %}
                                Reddedildin
                                {% else %}
                                Reddedildi
                                {% endif %}
                            {% elif durum.onaydurum == 'Yasakla' %}
                                {% if request.user.username == durum.kisi.username %}
                                Yasaklandın
                                {% else %}
                                Yasaklandı
                                {% endif %}
                            {% elif durum.onaydurum == 'Cevapsız' %}
                            Onaylanmak için kayıt formunu cevaplayın.
                            {% else %}
                            {% endif %}" class="profil-username"><span class="h4 ms-4 ms-md-0" style="font-weight: 400;">{{profil.username}}</span>  {% if durum %}
                            <span class="d-none d-md-inline"> 
                                {% if durum.onaydurum == "Kabul Et" %}
                                <i class="fa-solid fa-circle-check px-2 fa-lg" style="cursor: pointer;"></i>
                                {% elif durum.onaydurum == "Bekle" %}
                                <i class="fa-solid fa-circle-pause px-2 fa-lg" style="cursor: pointer;"></i>
                                {% elif durum.onaydurum == "Yasakla" %}
                                <i class="fa-solid fa-ban" style="cursor: pointer;"></i> 
                                {% elif durum.onaydurum == "Reddet" %}
                                <i class="fa-solid fa-circle-xmark px-2 fa-lg" style="cursor: pointer;"></i>
                                {% elif durum.onaydurum == "Cevapsız" %}
                                <i class="fa-brands fa-creative-commons-nd px-2 fa-lg" title="Onaylanmak için kayıt formunu cevapla." style="cursor: pointer;"></i> 
                                {% endif %} 
                                {% else %} 
                                    
                                - Onaylanmak için Kayıt Formunu Doldur 
                                {% endif %}
                            </span>
                            {% if request.user.is_authenticated %}
                             <p style="width: 200px;position: relative;"><span style="cursor: pointer;" onclick="takipci_goster()"><b class="takipci_sayisi">{{profil.takipci_sayisi}}</b> Takipçi</span> <span class="ms-2 ms-md-3" style="cursor: pointer;" onclick="takip_edilenleri_goster()"><b>{{profil.takip_edilenler_sayisi}}</b> Takip Edilen</span></p>
                             {% else %}
                             <p style="width: 200px;position: relative;"><span style="cursor: pointer;" onclick="takip_edmezsiniz()"><b class="takipci_sayisi">{{profil.takipci_sayisi}}</b> Takipçi</span> <span class="ms-2 ms-md-3" style="cursor: pointer;" onclick="takip_edmezsiniz()"><b>{{profil.takip_edilenler_sayisi}}</b> Takip Edilen</span></p>
                            {% endif %}
                            </p>

                        </li>
                        


                        {% if request.user.username == profil.username %}

                            <li>
                                <a href="{% url 'profil-foto' request.user.id %}" class="profil-edit"><i class="fa-solid fa-user-pen fa-lg"></i></a>
                            </li>

                        {% else %}

                            {% if request.user in profil.takipciler.all %}
                                    <li><button class="btn btn-outline-dark takip-ediliyor profil-edit-1" onmouseover="takip_ediliyor()" onmouseleave="takip_ediliyor1()"  onclick="takip_et()">Takip Ediliyor</button></li>
                                {% else %}

                                {% if request.user.username != profil.username %}
                                    {% if request.user.is_authenticated %}
                                        <li><button class="btn btn-outline-dark profil-edit-1" onclick="takip_et()" onmouseover="takip_ediliyor()" onmouseleave="takip_ediliyor1()">Takip Et</button></li>
                                    {% else %}
                                        <li><button class="btn btn-outline-dark profil-edit-1" onclick="takip_edmezsiniz()" >Takip Et</button></li>
                                    {% endif %}
                                {% endif %}

                            {% endif %}

                        {% endif %}
                    </ul>
                </div>
                
                {% if profil.biyografi %}
                <h5 class="profil-biyografi offset-1 "><i class="text-black text-break">{{profil.biyografi}}</i></h5>
                {% else %}
                <h5 class="profil-biyografi offset-1 "><i class="text-black">Kişi hakkında bilgi verilmemiş.</i></h5>
                {% endif %}
                <p class="profil-katilma d-none d-lg-block col-3">{{profil.user.date_joined}} Tarihinde Katıldı</p>
            </div>
            
            <div class="cevaplama-parent" style="display: none;">
                <div class="cevaplama col-10 offset-1 border p-3 mb-4">
                <span class="soru_id" style="display: none;"></span>
                    <div class="cevapla_kapa_parent">
                        <i class="fa-solid fa-xmark cevapla_kapa fa-xl ms-2 mb-4" onclick="cevapla_kapa()" style="cursor: pointer;"></i>
                    </div>
                <br>
                <img src="../../../static/images/insigne.jpg" class="col-2 col-lg-1 border soru_profil_url rounded ms-1" style="min-height: 50px;height: 2.98vh;width: 50px;">
                <span class="ms-2 soru_username">Yönetici</span> 
                <div class="ms-4" style="border-left:3px solid rgb(114, 108, 53);padding-left:40px;margin-top: 20px;">
                

                <hr>
                <span class="soru_baslik">
                    merhaba bu benim forum sorum
                </span>
                <hr>
                <span class="soru_aciklama">
                    merhaba bu benim forum aciklamam
                </span>
                <hr>
                @<span class="at_soru_username">yönetici</span>
                adlı kullanıcıya yanıtınız
            </div>
            <br>
            <img src="https://fifavox-s3-buckets-1.s3.eu-central-1.amazonaws.com/{{cevap_profil_url}}" class="col-2 col-lg-1 border rounded ms-1" style="min-height: 50px;height: 2.98vh;width: 50px;">
            <span class="ms-2">{{request.user.username}}</span>
            <textarea class="form-control mt-3 cevap-textarea" rows="5" maxlength="260" placeholder="Cevabınız..."></textarea>
            <input type="submit" class="btn btn-outline-dark center mt-3" onclick="cevap_olustur()" value="Cevapla">
                </div>  
            </div>

            {% if forumlari %}

            <h4 class="text-center my-5">Forumları</h4>
            <span class="badge badge-lg bg-dark center mb-4 mesajiniz-olustu" style="display: none;">Cevabınız oluşturuldu.</span>
            {% for forum in forumlari %}
                <div class="{{forum.id}} forumlar_1 col-10 offset-1 border border-dark p-3 rounded my-4 bg-light">
                        <span class="soru_id" style="display: none;">{{forum.id}}</span>
                        {% if request.user not in forum.goruldu.all and request.user.is_authenticated %}
                            <span class="badge bg-dark">Yeni</span>
                        {% endif %}
                        <a href="{% url 'profil' forum.profil.user.username|slugify %}" class="text-black text-decoration-none">
                        <img src="{{forum.profil.resim.url}}" class="col-2 col-lg-1 border rounded mx-2 soru_profil_url" style="height: 50px;width:50px;">
                        <span class="ms-2 soru_username">
                        <span class="h6">{{forum.profil.user.username}}</span>
                            
                        </span> 
                            <span class="d-none d-md-inline"> 
                                {% if forum.onay_durum.onaydurum == "Kabul Et" %}
                                <i class="fa-solid fa-circle-check px-2 fa-sm" style="cursor: pointer;"></i>
                                {% elif forum.onay_durum.onaydurum == "Bekle" %}
                                <i class="fa-solid fa-circle-pause px-2 fa-sm" style="cursor: pointer;"></i>
                                {% elif forum.onay_durum.onaydurum == "Yasakla" %}
                                <i class="fa-solid fa-ban" style="cursor: pointer;"></i> 
                                {% elif forum.onay_durum.onaydurum == "Reddet" %}
                                <i class="fa-solid fa-circle-xmark px-2 fa-sm" style="cursor: pointer;"></i>
                                {% elif forum.onay_durum.onaydurum == "Cevapsız" %}
                                <i class="fa-brands fa-creative-commons-nd px-2 fa-sm" title="Onaylanmak için kayıt formunu cevapla." style="cursor: pointer;"></i> 
                                {% else %} 
                                - Onaylanmak için Kayıt Formunu Doldur 
                                {% endif %}
                                • <span class="ms-1">{{forum.guncellenme_tarihi|timesince}} önce</span>
                            </span>
                        </a>
                        <a href="{% url 'forum' forum.id %}" class="text-dark text-decoration-none">  
                            <div class="bordered">
                                <hr>
                                <span class="soru_baslik h6 text-break">
                                    {{forum.baslik}} 
                                </span>
                                <hr>
                                <span class="soru_aciklama text-break">{{forum.soru}}</span>
                            </div> 
                            <hr>
                        </a>    
                        <div class="gorenler-parent d-none"
                            >
                           <div class="gorenler col-8 offset-2 border p-3 rounded">
                            <i class="fa-solid fa-xmark fa-xl mb-4" style="cursor: pointer;" onclick="gorenleri_kapa(event)"></i>
                            <h4 class="ms-2">Görenler</h4>
                            {% if forum.goruldu.all.count > 0 %}
                            {% for kisiler in forum.goruldu.all %}
                                <hr>
                                <a href="{% url 'profil' kisiler.username|slugify %}" target="_blank" class="ms-2 text-black text-decoration-none">{{kisiler.username}}</a>
                            {% endfor %}
                            {% else %}
                            <hr>
                            <p class="ms-3">Forum görülmemiş.</p>
                            {% endif %}
                        </div>  
                        </div>
                        <ul class="list-unstyled d-flex justify-content-around">
                           
                                {% if request.user.is_authenticated %}

                                {% if request.user.id == forum.profil.user.id or request.user.is_superuser %}
                                    <li><a href="{% url 'forum-sil' forum.id %}"><i class="fa-solid fa-trash ms-3" title="Sil"></i></a></li>
                                {% endif %}
                                {% if request.user.is_authenticated %}
                                <li><i class="fa-solid fa-eye" title="Görülme Sayısı" style="cursor: pointer;"  onclick="gorenleri_goster(event)"></i><span class="ms-2">{{forum.goruldu.all.count}}</span></li>
                                {% else %}
                                <li><i class="fa-solid fa-eye" title="Görülme Sayısı" style="cursor: pointer;"  onclick="takip_edmezsiniz()"></i><span class="ms-2">{{forum.goruldu.all.count}}</span></li>
                                {% endif %}
                                <li><i class="fa-solid fa-comment" onclick="cevapla(event)" style="cursor: pointer;"  title="Yorum"></i> <span class="cevap_sayi">{{forum.cevap_sayisi}}</span></li>
                                <li>
                                    {% if request.user in forum.dislikes.all %}
                                        <i class="begenme fa-solid fa-heart-crack fa-md" style="color: black;cursor: pointer;" onclick="deneme(event,'{{forum.id}}')" title="Beğenme"></i> 
                                    {% else %}
                                        <i class="begenme fa-solid fa-heart-crack fa-md" style="cursor: pointer;"  onclick="deneme(event,'{{forum.id}}')"  title="Beğenme"></i>
                                    {% endif %}
                                    <span class="begenme_sayi mx-1">{{forum.dislikes.all.count}}</span> 
                                </li>
                                <li>
                                    {% if request.user in forum.likes.all %}
                                        <i class="begen fa-solid fa-heart fa-md" style="color: black;cursor: pointer;" onclick="deneme(event,'{{forum.id}}')" title="Beğen"></i> 
                                    {% else %}
                                        <i class="begen fa-solid fa-heart fa-md" style="cursor: pointer;"  onclick="deneme(event,'{{forum.id}}')"  title="Beğen"></i>
                                    {% endif %}
                                    <span class="begen_sayi mx-1">{{forum.likes.all.count}}</span> 
                                </li>
                                {% else %}
                                {% if request.user.is_authenticated %}
                                <li><i class="fa-solid fa-eye" title="Görülme Sayısı" style="cursor: pointer;"  onclick="gorenleri_goster(event)"></i><span class="ms-2">{{forum.goruldu.all.count}}</span></li>
                                {% else %}
                                <li><i class="fa-solid fa-eye" title="Görülme Sayısı" style="cursor: pointer;"  onclick="takip_edmezsiniz()"></i><span class="ms-2">{{forum.goruldu.all.count}}</span></li>
                                {% endif %}
                                <li>
                                    <i class="fa-solid fa-comment" onclick="takip_edmezsiniz()" style="cursor: pointer;"  title="Yorum"></i>
                                    <span class="begen_sayi mx-1">{{forum.cevap_sayisi}}</span> 
                                </li>
                                <li>
                                    <i class="fa-solid fa-heart-crack" onclick="takip_edmezsiniz()" style="cursor: pointer;"  title="Beğenme"></i>
                                    <span class="begen_sayi mx-1">{{forum.dislikes.all.count}}</span> 
                                </li>
                                <li>
                                    <i class="fa-solid fa-heart" onclick="takip_edmezsiniz()" style="cursor: pointer;" title="Beğen"></i>
                                    <span class="begenme_sayi mx-1">{{forum.likes.all.count}}</span>
                                </li>
                                {% endif %}
                        </ul>
                </div>
            {% endfor %}

            {% else %}

                <h4 class="pt-5 text-center">Okunacak forum yok...</h4>

            {% endif %}
            
        </div>
    </main>

    <aside style="z-index: 110;opacity: 1;" class="haberler col-1 offset-11 d-none d-lg-block">
        <ul>
            <p class="text-center h5">Haberler</p>
            <hr> {% for haber in haberler %}
            <li>

                <table>
                    <tr>
                        <td>
                            {% if haber.resim %}
                            <a href="{% url 'haber-detay' haber.baslik|slugify %}">
                                <img src="{{haber.resim.url}}" title="{{haber.baslik}}" alt="haber"></a>{% endif %}
                        </td>
                    </tr>
                </table>
            </li>
            {% endfor %}
        </ul>
    </aside>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.10.3/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.10.3/ScrollTrigger.min.js"></script>
    
    <script defer>
        function takip_ediliyor(){
            let takip_ediliyor1 = document.querySelector(".profil-edit-1");
            if(takip_ediliyor1.innerHTML=="Takip Ediliyor"){
                takip_ediliyor1.innerHTML = "Takibi Bırak";      
            }
        }
        
        function takipci_goster(){
            let takipciler = document.querySelector(".takipciler-1");
            takipciler.classList.remove("d-none");
        }

        function takip_edilenleri_goster(){
            let takipciler = document.querySelector(".takip-edilenler-1");
            takipciler.classList.remove("d-none");
        }

        const takip_et = async () =>{
            let takip123 = document.querySelector(".profil-edit-1");
            let takipci_sayisi = document.querySelector(".takipci_sayisi");
            let response = await fetch(window.location.origin+"/api/takip-etme/",{
                method:"POST",
                mode: 'same-origin',
                    headers: {
                        'Content-Type': 'application/json',
                        'Accept': 'application/json'
                    },
                    body: JSON.stringify({
                            id:"{{profil.user.id}}",
                            user_id : "{{request.user.id}}"
                        })
                    
            })
            if (response.status===200){
                let data1 = await response.text();
                if(data1=='"Takip Ediliyor"'){
                    takipci_sayisi.innerHTML=parseInt(takipci_sayisi.innerHTML)+1;
                    takip123.innerHTML="Takip Ediliyor";
                    if(!("takip-ediliyor" in takip123)){
                        takip123.classList.add("takip-ediliyor");
                    }
                    let div = document.querySelector(".takipciler-1-1");
                    div.innerHTML+=
                    ` 
                    <div class="{{request.user.username}}">
                        <hr>
                        <span class="text-black text-decoration-none"><h6 class="ms-3 ">{{request.user.username}}</h6></span>
                    </div>
                    `
                    takip123.addEventListener("click",takip_ediliyor());
                }
                else if(data1=='"Takip Et"'){
                    let parent = document.querySelector(".takip-parent");
                    parent.classList.remove("d-none");
                }
                
            }
            
            
        }        

        function takip_edmezsiniz(){
            let div = document.querySelector(".takip-edemezsiniz");
            div.classList.remove("d-none");
        }

        function takip_edmezsiniz_kapa(){
            let div = document.querySelector(".takip-edemezsiniz");
            div.classList.add("d-none");
        }
        
        
        function takip_kapa(){
            
            let parent = document.querySelector(".takip-parent");
            parent.classList.add("d-none");
        }
        

        const takibi_birak = async () =>{
            let takip_ediliyor = document.querySelector(".profil-edit-1");
            let takipci_sayisi = document.querySelector(".takipci_sayisi");
            let response = await fetch(window.location.origin+"/api/takibi-birak/",{
                method:"POST",
                mode: 'same-origin',
                    headers: {
                        'Content-Type': 'application/json',
                        'Accept': 'application/json'
                    },
                    body: JSON.stringify({
                            id:"{{profil.user.id}}",
                            user_id : "{{request.user.id}}"
                        })
                    
            })
            if (response.status===200){
                let data2 = await response.text();
                if(data2=='"Takip Et"'){
                    let takip_ediliyor = document.querySelector(".profil-edit-1");
                    takip_ediliyor.innerHTML="Takip Et";
                    takip_ediliyor.classList.remove("takip-ediliyor");
                    takipci_sayisi.innerHTML=parseInt(takipci_sayisi.innerHTML)-1;
                    let parent = document.querySelector(".takip-parent");
                    let div = document.querySelector(".{{request.user.username}}");
                    div.remove();
                    parent.classList.add("d-none");
                }
            }
            
            let btn = document.querySelector("profil-edit-1");
            
        }        

        
        function takip_ediliyor1(){
            let takip_ediliyor2 = document.querySelector(".profil-edit-1");
            if(takip_ediliyor2.innerHTML=="Takibi Bırak"){
                takip_ediliyor2.innerHTML = "Takip Ediliyor";      
            }

        }

        $(document).ready(function() {
            $('[data-toggle="popover"').popover({

                content: "{% if durum.onaydurum != 'Cevapsız' %}Başvuru Cevap Tarihi  : {{durum.guncellenme_tarihi}}{% endif %}",
                animation: true,
                placement: "right",
                trigger: 'hover',
            });
        });

        function profil_foto_buyu() {
            let photo = document.querySelector(".profil-foto-buyuk");
            photo.style.display = "block"

        }

        function profil_foto_kapa() {
            let photo = document.querySelector(".profil-foto-buyuk");
            photo.style.display = "none"
        }


        function arkaplan_foto_buyu() {
            let photo = document.querySelector(".arkaplan-foto-buyuk");
            photo.style.display = "block"

        }

        function arkaplan_foto_kapa() {
            let photo = document.querySelector(".arkaplan-foto-buyuk");
            photo.style.display = "none"
        }
    
        const deneme = async (event,id) =>{
            var begen_sayi=event.target.parentNode.parentNode.querySelector(".begen_sayi");
            var begen_icon=event.target.parentNode.parentNode.querySelector(".begen");
            var begenme_sayi=event.target.parentNode.parentNode.querySelector(".begenme_sayi");
            var begenme_icon=event.target.parentNode.parentNode.querySelector(".begenme");
            if (event.target.classList[0]=="begen"){
                event.preventDefault();
                let response = await fetch(window.location.origin+`/api/forum/${id}/begen/`,{
                    method:"POST",
                    headers: {
                      "Content-Type": "application/json",
                      "X-CSRFToken": "{{csrf_token}}"
                    },
                    body: JSON.stringify({
                            username:"{{request.user.username}}"
                        })
                    
                })
                if(response.status===200){
                    let sayi = await response.json();
                    begen_sayi.innerHTML=sayi;
                    if (begen_icon.style.color=="black"){
                    begen_icon.style.color="";
                    }
                    else{
                        begen_icon.style.color="black";
                        begenme_icon.style.color="";
                    }
                
                }

                let response1 = await fetch(window.location.origin+`/api/forum/${id}/begenme/`,{
                    method:"GET",
                    headers: {
                      "Content-Type": "application/json",
                    },
                })
                if(response1.status===200){
                    let sayi = await response1.json();
                    begenme_sayi.innerHTML=sayi;
                }
                
               
            }
            else if (event.target.classList[0]=="begenme"){
                event.preventDefault();
                let response = await fetch(window.location.origin+`/api/forum/${id}/begenme/`,{
                    method:"POST",
                    mode: 'same-origin',
                    headers: {
                        "Accept": "application/json",
                        "Content-Type": "application/json",
                    },
                    body: JSON.stringify({
                            username:"{{request.user.username}}"
                        })
                    
                })
                if(response.status===200){
                    let sayi = await response.json();
                    begenme_sayi.innerHTML=sayi;
                    if (begenme_icon.style.color=="black"){
                    begenme_icon.style.color="";
                    }
                    else{
                        begenme_icon.style.color="black";
                        begen_icon.style.color="";
                    }
                }

                let response1 = await fetch(window.location.origin+`/api/forum/${id}/begen/`,{
                    method:"GET",
                    mode: 'same-origin',
                    headers: {
                        "Accept": "application/json",
                        "Content-Type": "application/json",
                    },
                })
                if(response1.status===200){
                    let sayi = await response1.json();
                    begen_sayi.innerHTML=sayi;
                }
            
               
                }
            }  
   
        const cevapla_kapa = async (event) =>{ 
            let kutu_parent = document.querySelector(".cevaplama-parent");
            kutu_parent.style.display="none";
            const cevap = document.querySelector(".cevap-textarea");
            cevap.value="";
        }
        
        
        const cevapla = async (event) =>{
            let kutu = document.querySelector(".cevaplama");
            let kutu_parent = document.querySelector(".cevaplama-parent");
            let cevaplanacak = event.target.parentNode.parentNode.parentNode;
            let soru_username = kutu.querySelector(".soru_username");
            let at_soru_username = kutu.querySelector(".at_soru_username");
            let soru_baslik = kutu.querySelector(".soru_baslik");
            let soru_aciklama = kutu.querySelector(".soru_aciklama");
            let soru_profil_url = kutu.querySelector(".soru_profil_url");
            let soru_id = kutu.querySelector(".soru_id");
            
            soru_id.innerHTML  =  cevaplanacak.querySelector(".soru_id").innerHTML;
            soru_username.innerHTML  =  cevaplanacak.querySelector(".soru_username").innerHTML;
            at_soru_username.innerHTML  =  cevaplanacak.querySelector(".soru_username").innerHTML.toLowerCase();
            soru_baslik.innerHTML  =  cevaplanacak.querySelector(".soru_baslik").innerHTML;
            soru_aciklama.innerHTML  =  cevaplanacak.querySelector(".soru_aciklama").innerHTML;
            soru_profil_url.src  =  cevaplanacak.querySelector(".soru_profil_url").src;
            kutu_parent.style.display="block";
            
            
        }

        const cevap_olustur = async () =>{
            let kutu = document.querySelector(".cevaplama");
            kutu.style.display = "block";
            let soru_id = kutu.querySelector(".soru_id");
            const cevap = document.querySelector(".cevap-textarea");
            let response = await fetch(window.location.origin+"/api/forum/cevap/{{request.user.id}}/ekle/",{
                method:"POST",
                mode: 'same-origin',
                    headers: {
                        "Accept": "application/json",
                        "Content-Type": "application/json",
                    },
                    body: JSON.stringify({
                            soru_id: soru_id.innerHTML,
                            cevap: cevap.value,
                            cevaba_cevap:"-1",
                        })
                    
            })
            if (response.status===200){
                
                
                let divimiz = document.getElementsByClassName(soru_id.innerHTML)[0];
                let cevap_sayi = divimiz.querySelector(".cevap_sayi");
                cevap_sayi.innerHTML=String(parseInt(cevap_sayi.innerHTML)+1);
                
                cevapla_kapa();
                gsap.from(".mesajiniz-olustu", {
                    scrollTrigger: ".mesajiniz-olustu",
                    display: 'block',
                    duration: 4,
                })
                gsap.to(".mesajiniz-olustu", {
                    opacity: 0,
                    delay:3,
                    duration:1,
                    ease:"slow",
                })
                cevap.value="";
            
            }
            
        }        


        const gorenleri_goster = async (event) =>{
           let gorenler_all = document.querySelectorAll(".gorenler-parent");
           gorenler_all.forEach(gorenler => {
               if(!("d-none" in gorenler.classList)){
                    gorenler.classList.add("d-none");
               }
               
           });
           let div = event.target.parentNode.parentNode.parentNode.querySelector(".gorenler-parent");
           div.classList.remove("d-none");
        }
   
        const gorenleri_kapa = async (event) =>{
            let div = event.target.parentNode.parentNode;
            div.classList.add("d-none");
        }
    

    </script>
</body>

</html>

{% endblock content %}