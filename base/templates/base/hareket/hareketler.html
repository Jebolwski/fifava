 {% extends 'base/ana.html' %} {% load static %}
 {% block title %}
 Loglar | FIFAVOX
 {% endblock title %}
 {% block content %} 


    <main class="col-11 col-lg-10 offset-1">
        {% for message in messages %}
        <div class="message">{{message}}</div>
        {% endfor %}
        
        <br>
        {% if hareketler %}
            {% if request.user.is_superuser %}

                {% for hareket in hareketler %}
                <div class="{{hareket.id}} col-10 rounded-4 col-md-8 offset-1 offset-md-2 border shadow-sm px-3 pt-3 pb-2 my-3 bg-light" style="transition: 0.4s;">
                    <h5>{{hareket.hareket}}</h5>
                    <!-- {% if request.user.is_superuser %}
                    <i class=" fa-solid fa-xmark fa-xl dot" style="float: right;" onclick="hareket_sil('{{hareket.id}}')"></i>
                    {% endif %} -->
                    <h6 class="mt-4" style="position: relative;right:10">{{hareket.guncellenme_tarihi}}</h6>
                </div>
                {% endfor %}
                
                {% else %}
                
                {% for hareket in hareketler %}
                {% if hareket.admin_mi == '0' %}
                <div class="col-10 forumlar_1 col-md-8 offset-1 offset-md-2 border border-dark rounded p-3 my-3 bg-light">
                    <h5>{{hareket.hareket}}</h5> 
                    {% if request.user.is_superuser %}
                    <i class=" fa-solid fa-xmark fa-xl dot" style="float: right;" onclick="hareket_sil('{{hareket.id}}')"></i>
                    {% endif %}
                    <h6 class=" mt-4 offset-3 offset-md-6 offset-lg-9">{{hareket.guncellenme_tarihi}}</h6>
                    </div>
                    {% endif %}
                {% endfor %}

            {% endif %}
            <p class="offset-1 mt-5">
            {% if hareketler.has_previous%}
            <a href="?page=1" class="text-black"><i class="fas fa-angle-double-left"></i></a> {% endif %} {% if hareketler.has_previous%}
            <a href="?page={{hareketler.previous_page_number}}" class="text-black"><i class="fas fa-chevron-left"></i></a> {% else %}
            <i class="fas fa-chevron-left disabled" style="color: gray;">
                </i> {% endif %} {{hareketler.number}} de {{hareketler.paginator.num_pages}} {% if hareketler.has_next %}
            <a href="?page={{hareketler.next_page_number}}" class="text-black"><i class="fas fa-chevron-right"></i></a>
            <a href="?page={{hareketler.paginator.num_pages}}" class="text-black"><i class="fas fa-angle-double-right"></i></a> {% else %}
            <i class="fas fa-chevron-right" style="color: gray;"></i> {% endif %}
            </p>
        {% else %}

            <h5 class="text-center pt-5">Son zamanlarda hareket yok.</h5>
        
        {% endif %}
        


        
    </main>


    

{% endblock content %}
{% block script %}    
    <script defer>
        // const hareket_sil = async (id) =>{
        //     let response = await fetch(window.location.origin+`/api/hareket/${id}/sil/`,{
        //         method:"POST",
        //         headers: {
        //             'Content-Type': 'application/json',
        //             'Accept': 'application/json'
        //         },
        //     })
        //     console.log(response.status);
        //     if (response.status===200){
        //         let div = document.getElementsByClassName(id)[0];
        //         div.classList.add("fade");
        //         setTimeout(()=>{
        //             div.remove();
        //         },600)
        //     }
        // }
    </script>
    {% endblock %}